{"ast":null,"code":"import { withRouter, browserHistory, useHistory } from \"react-router-dom\";\n\nconst createBug = bugObject => {\n  return dispatch => {\n    var _s = $RefreshSig$();\n\n    // dispatch({ type: \"ADD_BUG\" }) TODO: add loading action;\n    // const formData = bugObject\n    // console.log(bugObject);\n    const configurationObject = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(bugObject)\n    };\n    fetch(`http://localhost:8000/bugs`, configurationObject) //TODO: get correct url for fetch and set up post\n    .then(response => {\n      return response.json();\n    }).then(_s(json => {\n      _s();\n\n      // console.log(json);\n      const history = useHistory();\n      dispatch({\n        type: \"ADD_BUG\",\n        bug: json\n      }); // return <Redirect to=\"/projects\" />;\n\n      history.push(\"/projects\"); // useRedirectToProjects();\n      // return <Redirect to=\"/projects\" />;\n\n      browserHistory.push(\"/projects\");\n    }, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n      return [useHistory];\n    })).catch(response => {\n      alert(\"Woops, something went wrong creating the bug\");\n      console.log(response);\n    });\n  };\n}; // function useRedirectToProjects() {\n//   const history = useHistory();\n//   history.push(\"projects\");\n// }","map":{"version":3,"sources":["/Users/cameronkingsley/Flatiron/code/Projects/Phase5-React-Cyberbug/Phase5-React-Cyberbug/cyberbug_frontend/src/actions/bugActions.js"],"names":["withRouter","browserHistory","useHistory","createBug","bugObject","dispatch","configurationObject","method","headers","Accept","body","JSON","stringify","fetch","then","response","json","history","type","bug","push","catch","alert","console","log"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,cAArB,EAAqCC,UAArC,QAAuD,kBAAvD;;AAEA,MAAMC,SAAS,GAAIC,SAAD,IAAe;AAC/B,SAAQC,QAAD,IAAc;AAAA;;AACnB;AACA;AACA;AACA,UAAMC,mBAAmB,GAAG;AAC1BC,MAAAA,MAAM,EAAE,MADkB;AAE1BC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,MAAM,EAAE;AAFD,OAFiB;AAM1BC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,SAAf;AANoB,KAA5B;AAQAS,IAAAA,KAAK,CAAE,4BAAF,EAA+BP,mBAA/B,CAAL,CAAyD;AAAzD,KACGQ,IADH,CACSC,QAAD,IAAc;AAClB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAHH,EAIGF,IAJH,IAISE,IAAD,IAAU;AAAA;;AACd;AACA,YAAMC,OAAO,GAAGf,UAAU,EAA1B;AACAG,MAAAA,QAAQ,CAAC;AAAEa,QAAAA,IAAI,EAAE,SAAR;AAAmBC,QAAAA,GAAG,EAAEH;AAAxB,OAAD,CAAR,CAHc,CAId;;AACAC,MAAAA,OAAO,CAACG,IAAR,CAAa,WAAb,EALc,CAMd;AACA;;AACAnB,MAAAA,cAAc,CAACmB,IAAf,CAAoB,WAApB;AACD,KAbH;AAAA,cAMoBlB,UANpB;AAAA,QAcGmB,KAdH,CAcUN,QAAD,IAAc;AACnBO,MAAAA,KAAK,CAAC,8CAAD,CAAL;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ;AACD,KAjBH;AAkBD,GA9BD;AA+BD,CAhCD,C,CAkCA;AACA;AACA;AACA","sourcesContent":["import { withRouter, browserHistory, useHistory } from \"react-router-dom\";\n\nconst createBug = (bugObject) => {\n  return (dispatch) => {\n    // dispatch({ type: \"ADD_BUG\" }) TODO: add loading action;\n    // const formData = bugObject\n    // console.log(bugObject);\n    const configurationObject = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify(bugObject),\n    };\n    fetch(`http://localhost:8000/bugs`, configurationObject) //TODO: get correct url for fetch and set up post\n      .then((response) => {\n        return response.json();\n      })\n      .then((json) => {\n        // console.log(json);\n        const history = useHistory();\n        dispatch({ type: \"ADD_BUG\", bug: json });\n        // return <Redirect to=\"/projects\" />;\n        history.push(\"/projects\");\n        // useRedirectToProjects();\n        // return <Redirect to=\"/projects\" />;\n        browserHistory.push(\"/projects\");\n      })\n      .catch((response) => {\n        alert(\"Woops, something went wrong creating the bug\");\n        console.log(response);\n      });\n  };\n};\n\n// function useRedirectToProjects() {\n//   const history = useHistory();\n//   history.push(\"projects\");\n// }\n"]},"metadata":{},"sourceType":"module"}