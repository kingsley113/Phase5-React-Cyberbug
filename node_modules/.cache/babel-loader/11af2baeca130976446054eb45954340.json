{"ast":null,"code":"// Single Project Functions\n// Open Bugs\nexport const openBugCount = (project, bugs) => {\n  let bugCount = 0;\n\n  if (bugs) {\n    for (const bug of bugs) {\n      if (bug.project_id === project.id && bug.bugStatus !== \"Complete\") {\n        bugCount += 1;\n      }\n    }\n  }\n\n  return bugCount;\n}; // Overdue Bugs\n\nexport const overdueBugCount = (project, bugs) => {\n  let bugCount = 0;\n  const date = new Date();\n\n  if (bugs) {\n    for (const bug of bugs) {\n      if (bug.bugDueDate) {\n        const dueDate = new Date(bug.bugDueDate);\n\n        if (bug.project_id === project.id && dueDate < date && bug.bugComplete === null) {\n          bugCount += 1;\n        }\n      }\n    }\n  }\n\n  return bugCount;\n}; // Closed Bugs\n\nexport const closedBugCount = (project, bugs) => {\n  let bugCount = 0;\n\n  if (bugs) {\n    for (const bug of bugs) {\n      if (bug.project_id === project.id && bug.bugComplete) {\n        bugCount += 1;\n      }\n    }\n  }\n\n  return bugCount;\n}; // Total Bugs\n\nexport const totalBugCount = (project, bugs) => {\n  let bugCount = 0;\n\n  if (bugs) {\n    for (const bug of bugs) {\n      if (bug.project_id === project.id) {\n        bugCount += 1;\n      }\n    }\n  }\n\n  return bugCount;\n}; // Project Health\n\nexport const projectHealth = (project, bugs) => {\n  if (project && bugs) {\n    const openBugs = openBugCount(project, bugs);\n    const totalBugs = totalBugCount(project, bugs);\n    const score = (totalBugs - openBugs) / totalBugs;\n    const percent = Math.round(score * 100);\n    return percent;\n  }\n}; // Multiple Projects Functions\n\nexport const generatePieChartData = (projects, bugs) => {\n  // Return an array of objects, object for each project, i.e.: {project_id: no_of_open_bugs}\n  let data = {};\n\n  if (projects) {\n    for (const project of projects) {\n      data[project.projectId] = openBugCount(project, bugs);\n    }\n  }\n\n  return data;\n};","map":{"version":3,"sources":["/Users/cameronkingsley/Flatiron/code/Projects/Phase5-React-Cyberbug/Phase5-React-Cyberbug/cyberbug_frontend/src/helpers/projectHelpers.js"],"names":["openBugCount","project","bugs","bugCount","bug","project_id","id","bugStatus","overdueBugCount","date","Date","bugDueDate","dueDate","bugComplete","closedBugCount","totalBugCount","projectHealth","openBugs","totalBugs","score","percent","Math","round","generatePieChartData","projects","data","projectId"],"mappings":"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","sourcesContent":["// Single Project Functions\n// Open Bugs\nexport const openBugCount = (project, bugs) => {\n  let bugCount = 0;\n  if (bugs) {\n    for (const bug of bugs) {\n      if (bug.project_id === project.id && bug.bugStatus !== \"Complete\") {\n        bugCount += 1;\n      }\n    }\n  }\n  return bugCount;\n};\n\n// Overdue Bugs\nexport const overdueBugCount = (project, bugs) => {\n  let bugCount = 0;\n  const date = new Date();\n  if (bugs) {\n    for (const bug of bugs) {\n      if (bug.bugDueDate) {\n        const dueDate = new Date(bug.bugDueDate);\n        if (\n          bug.project_id === project.id &&\n          dueDate < date &&\n          bug.bugComplete === null\n        ) {\n          bugCount += 1;\n        }\n      }\n    }\n  }\n  return bugCount;\n};\n\n// Closed Bugs\nexport const closedBugCount = (project, bugs) => {\n  let bugCount = 0;\n  if (bugs) {\n    for (const bug of bugs) {\n      if (bug.project_id === project.id && bug.bugComplete) {\n        bugCount += 1;\n      }\n    }\n  }\n  return bugCount;\n};\n\n// Total Bugs\nexport const totalBugCount = (project, bugs) => {\n  let bugCount = 0;\n  if (bugs) {\n    for (const bug of bugs) {\n      if (bug.project_id === project.id) {\n        bugCount += 1;\n      }\n    }\n  }\n  return bugCount;\n};\n\n// Project Health\nexport const projectHealth = (project, bugs) => {\n  if (project && bugs) {\n    const openBugs = openBugCount(project, bugs);\n    const totalBugs = totalBugCount(project, bugs);\n    const score = (totalBugs - openBugs) / totalBugs;\n    const percent = Math.round(score * 100);\n    return percent;\n  }\n};\n\n// Multiple Projects Functions\nexport const generatePieChartData = (projects, bugs) => {\n  // Return an array of objects, object for each project, i.e.: {project_id: no_of_open_bugs}\n  let data = {};\n  if (projects) {\n    for (const project of projects) {\n      data[project.projectId] = openBugCount(project, bugs);\n    }\n  }\n\n  return data;\n};\n"]},"metadata":{},"sourceType":"module"}